# ä¸ªè‚¡å¼ºå¼±æŒ‡æ ‡ (Relative Strength) åŠŸèƒ½æŒ‡å—

## ğŸ“Š åŠŸèƒ½æ¦‚è¿°

ä¸ªè‚¡å¼ºå¼±æŒ‡æ ‡æ˜¯TradingAgents-CN v0.1.13æ–°å¢çš„æŠ€æœ¯åˆ†æå·¥å…·ï¼Œé€šè¿‡è®¡ç®—`è‚¡ä»·/æŒ‡æ•°`çš„æ¯”å€¼æ¥åˆ¤æ–­ä¸ªè‚¡ç›¸å¯¹äºå¤§ç›˜çš„å¼ºå¼±èµ°åŠ¿ã€‚è¿™ä¸ªæŒ‡æ ‡èƒ½å¤Ÿå¸®åŠ©æŠ•èµ„è€…ï¼š

- è¯†åˆ«çœŸæ­£çš„å¼ºåŠ¿è‚¡å’Œå¼±åŠ¿è‚¡
- åœ¨å¸‚åœºéœ‡è¡ä¸­æ‰¾åˆ°ç›¸å¯¹ä¼˜åŠ¿çš„ä¸ªè‚¡
- è¯„ä¼°ä¸ªè‚¡è·‘èµ¢å¤§ç›˜çš„èƒ½åŠ›
- ä¸ºæŠ•èµ„å†³ç­–æä¾›é‡åŒ–ä¾æ®

## ğŸ¯ ç®—æ³•åŸç†

### è®¡ç®—å…¬å¼

```
ä¸ªè‚¡å¼ºå¼±å€¼ = è‚¡ä»· Ã· æŒ‡æ•°ä»·æ ¼
æ ‡å‡†åŒ–å€¼ = (å½“å‰æ¯”ç‡ Ã· åŸºæœŸæ¯”ç‡) Ã— 100
```

### æŒ‡æ ‡å«ä¹‰

- **å€¼ > 100**: ä¸ªè‚¡å¼ºäºå¤§ç›˜ï¼Œè¡¨ç°ä¼˜äºæŒ‡æ•°
- **å€¼ < 100**: ä¸ªè‚¡å¼±äºå¤§ç›˜ï¼Œè¡¨ç°é€ŠäºæŒ‡æ•°
- **å€¼ = 100**: ä¸ªè‚¡ä¸å¤§ç›˜åŒæ­¥ï¼Œæ— ç›¸å¯¹ä¼˜åŠ¿

### æŒ‡æ•°é€‰æ‹©ç­–ç•¥

ç³»ç»Ÿè‡ªåŠ¨ä¸ºä¸åŒå¸‚åœºé€‰æ‹©åˆé€‚çš„å¯¹æ¯”æŒ‡æ•°ï¼š

| å¸‚åœºç±»å‹ | è‚¡ç¥¨ä»£ç æ ¼å¼ | é»˜è®¤æŒ‡æ•° | è¯´æ˜ |
|---------|-------------|---------|------|
| æ²ªå¸‚Aè‚¡ | 600xxx, 601xxx | ä¸Šè¯æŒ‡æ•°(000001) | åæ˜ æ²ªå¸‚æ•´ä½“èµ°åŠ¿ |
| æ·±å¸‚Aè‚¡ | 000xxx, 002xxx | æ·±è¯æˆæŒ‡(399001) | åæ˜ æ·±å¸‚æ•´ä½“èµ°åŠ¿ |
| ç§‘åˆ›æ¿ | 688xxx | æ²ªæ·±300(000300) | ä½¿ç”¨å¤§ç›˜æŒ‡æ•°å¯¹æ¯” |
| ç¾è‚¡ | AAPL, TSLAç­‰ | æ ‡æ™®500(^GSPC) | åæ˜ ç¾è‚¡å¸‚åœºèµ°åŠ¿ |
| æ¸¯è‚¡ | xxxx.HK | æ’ç”ŸæŒ‡æ•°(^HSI) | åæ˜ æ¸¯è‚¡å¸‚åœºèµ°åŠ¿ |

## ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•

### 1. åŸºç¡€ä½¿ç”¨

```python
from tradingagents.dataflows.relative_strength_utils import get_relative_strength_data

# åˆ†æè´µå·èŒ…å°çš„ä¸ªè‚¡å¼ºå¼±
result = get_relative_strength_data(
    symbol="600519",
    start_date="2024-01-01",
    end_date="2024-12-31"
)
print(result)
```

### 2. è‡ªå®šä¹‰æŒ‡æ•°å¯¹æ¯”

```python
from tradingagents.dataflows.relative_strength_utils import RelativeStrengthCalculator

calculator = RelativeStrengthCalculator()

# ç”¨æ²ªæ·±300å¯¹æ¯”è´µå·èŒ…å°
result = calculator.calculate_relative_strength(
    symbol="600519",
    start_date="2024-01-01",
    end_date="2024-12-31",
    custom_index="000300"  # æ²ªæ·±300æŒ‡æ•°
)
```

### 3. Webç•Œé¢ä½¿ç”¨

åœ¨Webç•Œé¢ä¸­é€‰æ‹©"å¢å¼ºç‰ˆå¸‚åœºåˆ†æå¸ˆ"ï¼š

```python
from tradingagents.graph.trading_graph import TradingAgentsGraph

# é…ç½®ä½¿ç”¨å¢å¼ºç‰ˆåˆ†æå¸ˆ
config = {
    "llm_provider": "dashscope",
    "deep_think_llm": "qwen-plus",
    "online_tools": True
}

ta = TradingAgentsGraph(
    selected_analysts=["enhanced_market"],  # ä½¿ç”¨å¢å¼ºç‰ˆåˆ†æå¸ˆ
    config=config
)

# åˆ†æè‚¡ç¥¨ï¼ˆè‡ªåŠ¨åŒ…å«ä¸ªè‚¡å¼ºå¼±åˆ†æï¼‰
state, decision = ta.propagate("600519", "2024-01-15")
```

### 4. æ¼”ç¤ºè„šæœ¬

è¿è¡Œå®Œæ•´æ¼”ç¤ºï¼š

```bash
python examples/relative_strength_demo.py
```

## ğŸ“ˆ åˆ†æç»“æœè§£è¯»

### å…¸å‹è¾“å‡ºç¤ºä¾‹

```markdown
ğŸ“Š ä¸ªè‚¡å¼ºå¼±åˆ†ææŠ¥å‘Š

åŸºæœ¬ä¿¡æ¯:
- è‚¡ç¥¨ä»£ç : 600519
- å¯¹æ¯”æŒ‡æ•°: 000001 (ä¸Šè¯æŒ‡æ•°)
- å¸‚åœºç±»å‹: china
- åˆ†ææœŸé—´: 2024-01-01 è‡³ 2024-12-31
- æ•°æ®ç‚¹æ•°: 243

æœ€æ–°æ•°æ® (2024-12-31):
- è‚¡ç¥¨ä»·æ ¼: 1,680.50
- æŒ‡æ•°æ•°å€¼: 2,915.38
- ç›¸å¯¹å¼ºå¼±æ¯”ç‡: 0.5767
- æ ‡å‡†åŒ–å¼ºå¼±å€¼: 112.35
- 5æ—¥å‡çº¿: 111.20
- 10æ—¥å‡çº¿: 109.85

å˜åŒ–ç‡:
- 1æ—¥å˜åŒ–: +0.85%
- 5æ—¥å˜åŒ–: +2.10%
- 20æ—¥å˜åŒ–: +5.20%

åˆ†æç»“è®º:
- å¼ºå¼±æ°´å¹³: å¼ºäºå¤§ç›˜ (å¾—åˆ†: 61.8)
- è¶‹åŠ¿åˆ¤æ–­: æ¸©å’Œä¸Šå‡ (å¾—åˆ†: 70)
- æ³¢åŠ¨ç‰¹å¾: ä¸­æ³¢åŠ¨ (æ ‡å‡†å·®: 3.24)
- æŠ•èµ„å»ºè®®: ä¸ªè‚¡ç›¸å¯¹è¡¨ç°è‰¯å¥½ï¼Œå¯é€‚åº¦å…³æ³¨ (ç»¼åˆå¾—åˆ†: 70)

æ€»ç»“:
600519 ç›¸å¯¹äº 000001 ç›®å‰å¼ºäºå¤§ç›˜ï¼Œèµ°åŠ¿æ¸©å’Œä¸Šå‡ï¼Œä¸ªè‚¡ç›¸å¯¹è¡¨ç°è‰¯å¥½ï¼Œå¯é€‚åº¦å…³æ³¨
```

### å…³é”®æŒ‡æ ‡è¯´æ˜

#### 1. æ ‡å‡†åŒ–å¼ºå¼±å€¼
- **105-120**: æ˜æ˜¾å¼ºäºå¤§ç›˜ï¼Œç›¸å¯¹ä¼˜åŠ¿æ˜¾è‘—
- **100-105**: ç•¥å¼ºäºå¤§ç›˜ï¼Œæ¸©å’Œç›¸å¯¹ä¼˜åŠ¿
- **95-100**: ç•¥å¼±äºå¤§ç›˜ï¼Œè¡¨ç°æ¥è¿‘å¤§ç›˜
- **80-95**: æ˜æ˜¾å¼±äºå¤§ç›˜ï¼Œè·‘è¾“æŒ‡æ•°

#### 2. è¶‹åŠ¿åˆ¤æ–­
- **å¼ºåŠ¿ä¸Šå‡**: ä¸ªè‚¡å¼ºå¼±å€¼>5æ—¥çº¿>10æ—¥çº¿ï¼Œè¶‹åŠ¿æ˜ç¡®å‘ä¸Š
- **æ¸©å’Œä¸Šå‡**: ä¸ªè‚¡å¼ºå¼±å€¼>10æ—¥çº¿ï¼Œ5æ—¥çº¿>10æ—¥çº¿
- **æ¨ªç›˜æ•´ç†**: ä¸ªè‚¡å¼ºå¼±å€¼åœ¨å‡çº¿é™„è¿‘æ³¢åŠ¨
- **å¼±åŠ¿ä¸‹é™**: ä¸ªè‚¡å¼ºå¼±å€¼<5æ—¥çº¿<10æ—¥çº¿

#### 3. æŠ•èµ„å»ºè®®è¯„åˆ†
- **80+åˆ†**: å¼ºçƒˆå»ºè®®å…³æ³¨ï¼Œç›¸å¯¹ä¼˜åŠ¿æ˜æ˜¾
- **60-80åˆ†**: é€‚åº¦å…³æ³¨ï¼Œè¡¨ç°è‰¯å¥½
- **40-60åˆ†**: ä¸­æ€§è§‚å¯Ÿï¼Œæ— æ˜æ˜¾ä¼˜åŠ¿
- **40åˆ†ä»¥ä¸‹**: è°¨æ…å¯¹å¾…ï¼Œç›¸å¯¹è¡¨ç°è¾ƒå¼±

## ğŸ’¡ å®æˆ˜åº”ç”¨ç­–ç•¥

### 1. é€‰è‚¡ç­–ç•¥

```python
# ç­›é€‰å¼ºåŠ¿è‚¡ç¤ºä¾‹
def find_strong_stocks(stock_list):
    strong_stocks = []
    
    for stock in stock_list:
        result = get_relative_strength_data(stock)
        if "error" not in result:
            # ç­›é€‰æ¡ä»¶ï¼šå¼ºå¼±å€¼>105ä¸”è¶‹åŠ¿å‘ä¸Š
            latest = result['latest']
            analysis = result['analysis']
            
            if (latest['rs_normalized'] > 105 and 
                analysis['trend_score'] > 70):
                strong_stocks.append({
                    'symbol': stock,
                    'strength': latest['rs_normalized'],
                    'trend': analysis['trend']
                })
    
    return strong_stocks
```

### 2. ä¹°å…¥æ—¶æœºåˆ¤æ–­

```python
def check_buy_signal(symbol):
    result = get_relative_strength_data(symbol)
    
    if "error" in result:
        return False
    
    latest = result['latest']
    changes = result['changes']
    
    # ä¹°å…¥ä¿¡å·ï¼š
    # 1. ä¸ªè‚¡å¼ºå¼±çªç ´100
    # 2. è¿‘æœŸè¡¨ç°æŒç»­æ”¹å–„
    # 3. 5æ—¥çº¿ä¸Šç©¿10æ—¥çº¿
    
    buy_signal = (
        latest['rs_normalized'] > 100 and
        changes['5_day'] > 0 and
        latest['rs_ma5'] > latest['rs_ma10']
    )
    
    return buy_signal
```

### 3. é£é™©æ§åˆ¶

```python
def check_risk_signal(symbol):
    result = get_relative_strength_data(symbol)
    
    if "error" in result:
        return True  # æ— æ³•è·å–æ•°æ®æ—¶è°¨æ…å¤„ç†
    
    latest = result['latest']
    analysis = result['analysis']
    
    # é£é™©ä¿¡å·ï¼š
    # 1. ä¸ªè‚¡å¼ºå¼±æŒç»­ä¸‹é™
    # 2. è·Œç ´å…³é”®æ”¯æ’‘ä½
    # 3. ç›¸å¯¹è¡¨ç°æ˜æ˜¾è½¬å¼±
    
    risk_signal = (
        latest['rs_normalized'] < 95 and
        analysis['trend_score'] < 40 and
        analysis['recommendation_score'] < 30
    )
    
    return risk_signal
```

## âš ï¸ ä½¿ç”¨æ³¨æ„äº‹é¡¹

### 1. æŒ‡æ ‡å±€é™æ€§

- **ä¸æ˜¯ç‹¬ç«‹çš„äº¤æ˜“ä¿¡å·**: éœ€è¦ç»“åˆå…¶ä»–æŠ€æœ¯æŒ‡æ ‡å’ŒåŸºæœ¬é¢åˆ†æ
- **é€‚ç”¨äºè¶‹åŠ¿è¡Œæƒ…**: åœ¨éœ‡è¡å¸‚ä¸­æ•ˆæœæ›´ä½³ï¼Œå•è¾¹å¸‚ä¸­ä½œç”¨æœ‰é™
- **æ»åæ€§**: åŸºäºå†å²æ•°æ®è®¡ç®—ï¼Œå­˜åœ¨ä¸€å®šæ»åæ€§

### 2. å¸‚åœºç¯å¢ƒè€ƒè™‘

- **ç‰›å¸‚**: å…³æ³¨ä¸ªè‚¡å¼ºå¼±å€¼æŒç»­ä¸Šå‡çš„è‚¡ç¥¨
- **ç†Šå¸‚**: å¯»æ‰¾ä¸ªè‚¡å¼ºå¼±å€¼ç›¸å¯¹æŠ—è·Œçš„è‚¡ç¥¨
- **éœ‡è¡å¸‚**: é‡ç‚¹å…³æ³¨ä¸ªè‚¡å¼ºå¼±å€¼çªç ´çš„æœºä¼š

### 3. æ•°æ®è´¨é‡

- ç¡®ä¿è‚¡ç¥¨ä»£ç æ ¼å¼æ­£ç¡®
- å…³æ³¨æ•°æ®è·å–çš„æˆåŠŸç‡
- æ³¨æ„å¤„ç†åœç‰Œå’Œé™¤æƒé™¤æ¯çš„å½±å“

## ğŸ”§ æŠ€æœ¯æ‰©å±•

### è‡ªå®šä¹‰æŒ‡æ ‡å‚æ•°

```python
# ä¿®æ”¹ç§»åŠ¨å¹³å‡çº¿å‘¨æœŸ
class CustomRelativeStrengthCalculator(RelativeStrengthCalculator):
    def calculate_relative_strength(self, symbol, start_date, end_date, 
                                   ma_periods=[3, 7, 21]):  # è‡ªå®šä¹‰å‡çº¿å‘¨æœŸ
        # è‡ªå®šä¹‰è®¡ç®—é€»è¾‘
        pass
```

### æ‰¹é‡åˆ†æå·¥å…·

```python
def batch_relative_strength_analysis(stock_list, start_date, end_date):
    """æ‰¹é‡åˆ†æå¤šåªè‚¡ç¥¨çš„ä¸ªè‚¡å¼ºå¼±"""
    results = {}
    
    for stock in stock_list:
        try:
            result = get_relative_strength_data(stock, start_date, end_date)
            results[stock] = result
        except Exception as e:
            results[stock] = {"error": str(e)}
    
    return results
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æŠ€æœ¯åˆ†æå®Œæ•´æŒ‡å—](./technical-analysis-guide.md)
- [å¸‚åœºåˆ†æå¸ˆä½¿ç”¨è¯´æ˜](../agents/analysts.md)
- [è‡ªå®šä¹‰ç®—æ³•å¼€å‘æŒ‡å—](../development/custom-algorithms.md)
- [APIå‚è€ƒæ–‡æ¡£](../api/dataflows-api.md)

## ğŸ¤ è´¡çŒ®å’Œåé¦ˆ

å¦‚æœæ‚¨æœ‰æ”¹è¿›å»ºè®®æˆ–å‘ç°é—®é¢˜ï¼Œæ¬¢è¿ï¼š

1. æäº¤GitHub Issue
2. è´¡çŒ®ä»£ç ä¼˜åŒ–
3. åˆ†äº«ä½¿ç”¨å¿ƒå¾—
4. å»ºè®®æ–°åŠŸèƒ½

è®©æˆ‘ä»¬ä¸€èµ·å®Œå–„è¿™ä¸ªå¼ºå¤§çš„æŠ€æœ¯åˆ†æå·¥å…·ï¼